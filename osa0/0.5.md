sequenceDiagram
    participant User
    participant Browser
    participant Server
    participant Database

    User->>Browser: Kirjoita “mun_kommentti” ja paina “Save”
    Browser->>Browser: Päivitä local state
    Browser->>Server: POST /exampleapp/new_note_spa
    Note right of Browser: Request JSON:\n{"content":"mun_kommentti","date":"2025-05-26T11:38:32.234Z"}
    activate Server
    Server->>Database: INSERT_NOTE("mun_kommentti","2025-05-26T11:38:32.234Z")
    activate Database
    Database-->>Server: OK
    deactivate Database
    Server-->>Browser: HTTP 201 { "message":"note created", "id":99 }
    deactivate Server

    Browser->>Server: GET /exampleapp/data.json
    activate Server
    Server->>Database: SELECT_ALL_NOTES()
    activate Database
    Database-->>Server: päivitetty lista JSONina
    deactivate Database
    Server-->>Browser: [{ id:1,…},{ id:99,"content":"mun_kommentti",… }]
    deactivate Server
    Browser->>Browser: uusi lista
    Browser->>User: Näytä “mun_kommentti”
